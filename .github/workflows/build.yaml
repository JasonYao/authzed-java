name: "build"
on:
  push:
    branches:
    - "!dependabot/*"
    - "*"
  pull_request:
    branches:
    - "*"
jobs:
  build:
    runs-on: "ubuntu-latest"
    strategy:
      matrix:
        java: [ 8, 11, 16 ] # Oldest, LTS, Latest
    name: "Java ${{ matrix.java }} Build"
    steps:
    - uses: "actions/checkout@v2"
    - uses: "actions/setup-java@v2"
      with:
        distribution: "adopt"
        java-package: "jdk"
        java-version: "${{ matrix.java }}"
    - uses: "bufbuild/buf-setup-action@v0.2.0"
      with:
        version: "0.48.2"
    - uses: "gradle/wrapper-validation-action@v1"
    - name: "Gradle Build"
      run: "./gradlew build"
